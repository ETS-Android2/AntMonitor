<!--
  ~  This file is part of AntMonitor <https://athinagroup.eng.uci.edu/projects/antmonitor/>.
  ~  Copyright (C) 2018 Anastasia Shuba and the UCI Networking Group
  ~  <https://athinagroup.eng.uci.edu>, University of California, Irvine.
  ~
  ~  AntMonitor is free software: you can redistribute it and/or modify
  ~  it under the terms of the GNU General Public License as published by
  ~  the Free Software Foundation, either version 2 of the License, or
  ~  (at your option) any later version.
  ~
  ~  AntMonitor is distributed in the hope that it will be useful,
  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~  GNU General Public License for more details.
  ~
  ~  You should have received a copy of the GNU General Public License
  ~  along with AntMonitor. If not, see <http://www.gnu.org/licenses/>.
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Thu Nov 08 11:54:29 PST 2018 -->
<title>VpnClient</title>
<meta name="date" content="2018-11-08">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VpnClient";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":9,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/TUNReader.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.ConnectTask.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" target="_top">Frames</a></li>
<li><a href="VpnClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.uci.calit2.antmonitor.lib.vpn</div>
<h2 title="Class VpnClient" class="title">Class VpnClient</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>android.content.Context</li>
<li>
<ul class="inheritance">
<li>android.content.ContextWrapper</li>
<li>
<ul class="inheritance">
<li>android.app.Service</li>
<li>
<ul class="inheritance">
<li>android.net.VpnService</li>
<li>
<ul class="inheritance">
<li>edu.uci.calit2.antmonitor.lib.vpn.VpnClient</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>android.content.ComponentCallbacks, android.content.ComponentCallbacks2</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">VpnClient</span>
extends android.net.VpnService</pre>
<div class="block">This class is responsible for establishing and maintaining the VPN connection.
 Although nothing in it should be used by the library's extensions, it is made public in order
 to be declared in the library Manifest file.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.ConnectTask.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnClient.ConnectTask</a></span></code>
<div class="block">TODO: Add Class Doc
 TODO change Boolean return type to enum to allow better error reports (e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.VpnClientBinder.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnClient.VpnClientBinder</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.android.net.VpnService">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;android.net.VpnService</h3>
<code>android.net.VpnService.Builder</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private android.content.BroadcastReceiver</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#connectivityReceiver">connectivityReceiver</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#EXTRA_CONNECT_ON_STARTUP">EXTRA_CONNECT_ON_STARTUP</a></span></code>
<div class="block">Extra key used when launching a <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>VpnClient</code></a> via
 <code>Context.startService(Intent)</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/ForwarderManager.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">ForwarderManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#manager">manager</a></span></code>
<div class="block">The main class responsible for traffic routing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.os.Handler</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mHandler">mHandler</a></span></code>
<div class="block">Handler tied to the main thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketLogQueue.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketLogQueue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mIncDatagramQueue">mIncDatagramQueue</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/BackgroundJob.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">BackgroundJob</a>&lt;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketQueueReader.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketQueueReader</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mIncomingDumper">mIncomingDumper</a></span></code>
<div class="block">Performs logging of incoming packets in a background thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mIncPacketConsumer">mIncPacketConsumer</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mIncPacketFilter">mIncPacketFilter</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketLogQueue.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketLogQueue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mOutDatagramQueue">mOutDatagramQueue</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/BackgroundJob.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">BackgroundJob</a>&lt;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketQueueReader.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketQueueReader</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mOutgoingDumper">mOutgoingDumper</a></span></code>
<div class="block">Performs logging of outgoing packets in a background thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mOutPacketConsumer">mOutPacketConsumer</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mOutPacketFilter">mOutPacketFilter</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mReconnectDelayMillis">mReconnectDelayMillis</a></span></code>
<div class="block">Delay in milliseconds before attempting to reconnect.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.os.ParcelFileDescriptor</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mTunInterface">mTunInterface</a></span></code>
<div class="block">TUN interface of phone.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mTunInterfaceIP">mTunInterfaceIP</a></span></code>
<div class="block">IP address used for the TUN</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.VpnClientBinder.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnClient.VpnClientBinder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mVpnClientBinder">mVpnClientBinder</a></span></code>
<div class="block">Interface provided to clients allowing these to perform operations on this service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnState.html" title="enum in edu.uci.calit2.antmonitor.lib.vpn">VpnState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mVpnState">mVpnState</a></span></code>
<div class="block">The current state of the VPN connection managed by this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>VpnClient</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mVpnStateLock">mVpnStateLock</a></span></code>
<div class="block">Lock object providing mutually exclusive access to <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mVpnState"><code>mVpnState</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/TLSProxyServer.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">TLSProxyServer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#sslBumpingServer">sslBumpingServer</a></span></code>
<div class="block">Server responsible for intercepting SSL connections</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#STARTING_RECONNECT_DELAY_MILLIS">STARTING_RECONNECT_DELAY_MILLIS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#TAG">TAG</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#VPN_ACTION_NOTIFICATION">VPN_ACTION_NOTIFICATION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#VPN_FOREGROUND_ID">VPN_FOREGROUND_ID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#VPN_STATE_BROADCAST_ACTION">VPN_STATE_BROADCAST_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#VPN_STATE_BROADCAST_STATE_KEY">VPN_STATE_BROADCAST_STATE_KEY</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.android.net.VpnService">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;android.net.VpnService</h3>
<code>SERVICE_INTERFACE, SERVICE_META_DATA_SUPPORTS_ALWAYS_ON</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.android.app.Service">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;android.app.Service</h3>
<code>START_CONTINUATION_MASK, START_FLAG_REDELIVERY, START_FLAG_RETRY, START_NOT_STICKY, START_REDELIVER_INTENT, START_STICKY, START_STICKY_COMPATIBILITY, STOP_FOREGROUND_DETACH, STOP_FOREGROUND_REMOVE</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.android.content.Context">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;android.content.Context</h3>
<code>ACCESSIBILITY_SERVICE, ACCOUNT_SERVICE, ACTIVITY_SERVICE, ALARM_SERVICE, APP_OPS_SERVICE, APPWIDGET_SERVICE, AUDIO_SERVICE, BATTERY_SERVICE, BIND_ABOVE_CLIENT, BIND_ADJUST_WITH_ACTIVITY, BIND_ALLOW_OOM_MANAGEMENT, BIND_AUTO_CREATE, BIND_DEBUG_UNBIND, BIND_EXTERNAL_SERVICE, BIND_IMPORTANT, BIND_NOT_FOREGROUND, BIND_WAIVE_PRIORITY, BLUETOOTH_SERVICE, CAMERA_SERVICE, CAPTIONING_SERVICE, CARRIER_CONFIG_SERVICE, CLIPBOARD_SERVICE, COMPANION_DEVICE_SERVICE, CONNECTIVITY_SERVICE, CONSUMER_IR_SERVICE, CONTEXT_IGNORE_SECURITY, CONTEXT_INCLUDE_CODE, CONTEXT_RESTRICTED, DEVICE_POLICY_SERVICE, DISPLAY_SERVICE, DOWNLOAD_SERVICE, DROPBOX_SERVICE, FINGERPRINT_SERVICE, HARDWARE_PROPERTIES_SERVICE, INPUT_METHOD_SERVICE, INPUT_SERVICE, JOB_SCHEDULER_SERVICE, KEYGUARD_SERVICE, LAUNCHER_APPS_SERVICE, LAYOUT_INFLATER_SERVICE, LOCATION_SERVICE, MEDIA_PROJECTION_SERVICE, MEDIA_ROUTER_SERVICE, MEDIA_SESSION_SERVICE, MIDI_SERVICE, MODE_APPEND, MODE_ENABLE_WRITE_AHEAD_LOGGING, MODE_MULTI_PROCESS, MODE_NO_LOCALIZED_COLLATORS, MODE_PRIVATE, MODE_WORLD_READABLE, MODE_WORLD_WRITEABLE, NETWORK_STATS_SERVICE, NFC_SERVICE, NOTIFICATION_SERVICE, NSD_SERVICE, POWER_SERVICE, PRINT_SERVICE, RECEIVER_VISIBLE_TO_INSTANT_APPS, RESTRICTIONS_SERVICE, SEARCH_SERVICE, SENSOR_SERVICE, SHORTCUT_SERVICE, STORAGE_SERVICE, STORAGE_STATS_SERVICE, SYSTEM_HEALTH_SERVICE, TELECOM_SERVICE, TELEPHONY_SERVICE, TELEPHONY_SUBSCRIPTION_SERVICE, TEXT_CLASSIFICATION_SERVICE, TEXT_SERVICES_MANAGER_SERVICE, TV_INPUT_SERVICE, UI_MODE_SERVICE, USAGE_STATS_SERVICE, USB_SERVICE, USER_SERVICE, VIBRATOR_SERVICE, WALLPAPER_SERVICE, WIFI_AWARE_SERVICE, WIFI_P2P_SERVICE, WIFI_SERVICE, WINDOW_SERVICE</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.android.content.ComponentCallbacks2">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;android.content.ComponentCallbacks2</h3>
<code>TRIM_MEMORY_BACKGROUND, TRIM_MEMORY_COMPLETE, TRIM_MEMORY_MODERATE, TRIM_MEMORY_RUNNING_CRITICAL, TRIM_MEMORY_RUNNING_LOW, TRIM_MEMORY_RUNNING_MODERATE, TRIM_MEMORY_UI_HIDDEN</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#VpnClient--">VpnClient</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>android.os.ParcelFileDescriptor</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#buildTunInterface--">buildTunInterface</a></span>()</code>
<div class="block">Builds a new TUN interface</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private android.app.Notification</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#buildVpnStateNotification--">buildVpnStateNotification</a></span>()</code>
<div class="block">Builds a <code>Notification</code> that provides information about the current state
 of the VPN connection.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#connect-long-boolean-">connect</a></span>(long&nbsp;delayMillis,
       boolean&nbsp;retryOnFailure)</code>
<div class="block">
     Attempts to connect the VPN.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#disconnect--">disconnect</a></span>()</code>
<div class="block">Disconnects the VPN connection and updates and publishes the new state, i.e.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>android.os.IBinder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#onBind-android.content.Intent-">onBind</a></span>(android.content.Intent&nbsp;intent)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#onDestroy--">onDestroy</a></span>()</code></td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#onRevoke--">onRevoke</a></span>()</code></td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#onStartCommand-android.content.Intent-int-int-">onStartCommand</a></span>(android.content.Intent&nbsp;intent,
              int&nbsp;flags,
              int&nbsp;startId)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#onTunnelError--">onTunnelError</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#onUnbind-android.content.Intent-">onUnbind</a></span>(android.content.Intent&nbsp;intent)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>(package private) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#prepareVPNconnection-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-">prepareVPNconnection</a></span>(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a>&nbsp;incFilter,
                    <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a>&nbsp;outFilter,
                    <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;incConsumer,
                    <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;outConsumer)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#publishVpnState-edu.uci.calit2.antmonitor.lib.vpn.VpnState-">publishVpnState</a></span>(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnState.html" title="enum in edu.uci.calit2.antmonitor.lib.vpn">VpnState</a>&nbsp;newVpnState)</code>
<div class="block">Updates and publishes the state of the VPN connection managed by this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>VpnClient</code></a>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#reconnectOnError-boolean-">reconnectOnError</a></span>(boolean&nbsp;retryOnFailure)</code>
<div class="block">Schedules a reconnect attempt if no reconnect attempt is already scheduled or running.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#teardown--">teardown</a></span>()</code>
<div class="block">
     Performs a complete teardown of the VPN connection.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.android.net.VpnService">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;android.net.VpnService</h3>
<code>prepare, protect, protect, protect, setUnderlyingNetworks</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.android.app.Service">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;android.app.Service</h3>
<code>dump, getApplication, onConfigurationChanged, onCreate, onLowMemory, onRebind, onStart, onTaskRemoved, onTrimMemory, startForeground, stopForeground, stopForeground, stopSelf, stopSelf, stopSelfResult</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.android.content.ContextWrapper">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;android.content.ContextWrapper</h3>
<code>attachBaseContext, bindService, checkCallingOrSelfPermission, checkCallingOrSelfUriPermission, checkCallingPermission, checkCallingUriPermission, checkPermission, checkSelfPermission, checkUriPermission, checkUriPermission, clearWallpaper, createConfigurationContext, createContextForSplit, createDeviceProtectedStorageContext, createDisplayContext, createPackageContext, databaseList, deleteDatabase, deleteFile, deleteSharedPreferences, enforceCallingOrSelfPermission, enforceCallingOrSelfUriPermission, enforceCallingPermission, enforceCallingUriPermission, enforcePermission, enforceUriPermission, enforceUriPermission, fileList, getApplicationContext, getApplicationInfo, getAssets, getBaseContext, getCacheDir, getClassLoader, getCodeCacheDir, getContentResolver, getDatabasePath, getDataDir, getDir, getExternalCacheDir, getExternalCacheDirs, getExternalFilesDir, getExternalFilesDirs, getExternalMediaDirs, getFilesDir, getFileStreamPath, getMainLooper, getNoBackupFilesDir, getObbDir, getObbDirs, getPackageCodePath, getPackageManager, getPackageName, getPackageResourcePath, getResources, getSharedPreferences, getSystemService, getSystemServiceName, getTheme, getWallpaper, getWallpaperDesiredMinimumHeight, getWallpaperDesiredMinimumWidth, grantUriPermission, isDeviceProtectedStorage, isRestricted, moveDatabaseFrom, moveSharedPreferencesFrom, openFileInput, openFileOutput, openOrCreateDatabase, openOrCreateDatabase, peekWallpaper, registerReceiver, registerReceiver, registerReceiver, registerReceiver, removeStickyBroadcast, removeStickyBroadcastAsUser, revokeUriPermission, revokeUriPermission, sendBroadcast, sendBroadcast, sendBroadcastAsUser, sendBroadcastAsUser, sendOrderedBroadcast, sendOrderedBroadcast, sendOrderedBroadcastAsUser, sendStickyBroadcast, sendStickyBroadcastAsUser, sendStickyOrderedBroadcast, sendStickyOrderedBroadcastAsUser, setTheme, setWallpaper, setWallpaper, startActivities, startActivities, startActivity, startActivity, startForegroundService, startInstrumentation, startIntentSender, startIntentSender, startService, stopService, unbindService, unregisterReceiver</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.android.content.Context">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;android.content.Context</h3>
<code>getColor, getColorStateList, getDrawable, getString, getString, getSystemService, getText, obtainStyledAttributes, obtainStyledAttributes, obtainStyledAttributes, obtainStyledAttributes, registerComponentCallbacks, unregisterComponentCallbacks</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="VPN_FOREGROUND_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VPN_FOREGROUND_ID</h4>
<pre>static final&nbsp;int VPN_FOREGROUND_ID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnClient.VPN_FOREGROUND_ID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VPN_ACTION_NOTIFICATION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VPN_ACTION_NOTIFICATION</h4>
<pre>static final&nbsp;java.lang.String VPN_ACTION_NOTIFICATION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnClient.VPN_ACTION_NOTIFICATION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VPN_STATE_BROADCAST_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VPN_STATE_BROADCAST_ACTION</h4>
<pre>static final&nbsp;java.lang.String VPN_STATE_BROADCAST_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnClient.VPN_STATE_BROADCAST_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VPN_STATE_BROADCAST_STATE_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VPN_STATE_BROADCAST_STATE_KEY</h4>
<pre>static final&nbsp;java.lang.String VPN_STATE_BROADCAST_STATE_KEY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnClient.VPN_STATE_BROADCAST_STATE_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="STARTING_RECONNECT_DELAY_MILLIS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STARTING_RECONNECT_DELAY_MILLIS</h4>
<pre>static final&nbsp;long STARTING_RECONNECT_DELAY_MILLIS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnClient.STARTING_RECONNECT_DELAY_MILLIS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="EXTRA_CONNECT_ON_STARTUP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EXTRA_CONNECT_ON_STARTUP</h4>
<pre>static final&nbsp;java.lang.String EXTRA_CONNECT_ON_STARTUP</pre>
<div class="block">Extra key used when launching a <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>VpnClient</code></a> via
 <code>Context.startService(Intent)</code>.
 The key should map a boolean value that denotes if the <code>VpnClient</code> should automatically
 connect to the VPN server as part of its <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#onStartCommand-android.content.Intent-int-int-"><code>onStartCommand(Intent, int, int)</code></a>
 invocation.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnClient.EXTRA_CONNECT_ON_STARTUP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TAG</h4>
<pre>private static final&nbsp;java.lang.String TAG</pre>
</li>
</ul>
<a name="mTunInterfaceIP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mTunInterfaceIP</h4>
<pre>public static final&nbsp;java.lang.String mTunInterfaceIP</pre>
<div class="block">IP address used for the TUN</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnClient.mTunInterfaceIP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="mTunInterface">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mTunInterface</h4>
<pre>private&nbsp;android.os.ParcelFileDescriptor mTunInterface</pre>
<div class="block">TUN interface of phone.</div>
</li>
</ul>
<a name="mOutDatagramQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mOutDatagramQueue</h4>
<pre>private static final&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketLogQueue.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketLogQueue</a> mOutDatagramQueue</pre>
</li>
</ul>
<a name="mIncDatagramQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mIncDatagramQueue</h4>
<pre>private static final&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketLogQueue.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketLogQueue</a> mIncDatagramQueue</pre>
</li>
</ul>
<a name="mOutPacketConsumer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mOutPacketConsumer</h4>
<pre>private static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a> mOutPacketConsumer</pre>
</li>
</ul>
<a name="mIncPacketConsumer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mIncPacketConsumer</h4>
<pre>private static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a> mIncPacketConsumer</pre>
</li>
</ul>
<a name="mIncPacketFilter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mIncPacketFilter</h4>
<pre>private static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a> mIncPacketFilter</pre>
</li>
</ul>
<a name="mOutPacketFilter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mOutPacketFilter</h4>
<pre>private static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a> mOutPacketFilter</pre>
</li>
</ul>
<a name="mReconnectDelayMillis">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mReconnectDelayMillis</h4>
<pre>private&nbsp;long mReconnectDelayMillis</pre>
<div class="block">Delay in milliseconds before attempting to reconnect.
 This is increased for every attempt up till 1 day.</div>
</li>
</ul>
<a name="mHandler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mHandler</h4>
<pre>private final&nbsp;android.os.Handler mHandler</pre>
<div class="block">Handler tied to the main thread. Facilitates delayed invocation of connect attempts.
 <em>THIS HANDLER SHOULD ONLY BE USED FOR CONNECT/DISCONNECT JOBS.</em>
 As connect/disconnect jobs clears the message queue, there are no guarantees that your
 code will run should you decide to post other jobs to this handler, as your code might
 get removed from the message queue before it is scheduled to run.</div>
</li>
</ul>
<a name="sslBumpingServer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sslBumpingServer</h4>
<pre>private&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/TLSProxyServer.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">TLSProxyServer</a> sslBumpingServer</pre>
<div class="block">Server responsible for intercepting SSL connections</div>
</li>
</ul>
<a name="mIncomingDumper">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mIncomingDumper</h4>
<pre>private&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/BackgroundJob.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">BackgroundJob</a>&lt;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketQueueReader.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketQueueReader</a>&gt; mIncomingDumper</pre>
<div class="block">Performs logging of incoming packets in a background thread.</div>
</li>
</ul>
<a name="mOutgoingDumper">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mOutgoingDumper</h4>
<pre>private&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/BackgroundJob.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">BackgroundJob</a>&lt;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketQueueReader.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketQueueReader</a>&gt; mOutgoingDumper</pre>
<div class="block">Performs logging of outgoing packets in a background thread.</div>
</li>
</ul>
<a name="mVpnState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mVpnState</h4>
<pre>private volatile&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnState.html" title="enum in edu.uci.calit2.antmonitor.lib.vpn">VpnState</a> mVpnState</pre>
<div class="block">The current state of the VPN connection managed by this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>VpnClient</code></a>.
 <em>Make sure to always synchronize access via <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mVpnStateLock"><code>mVpnStateLock</code></a>.</em></div>
</li>
</ul>
<a name="mVpnStateLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mVpnStateLock</h4>
<pre>private final&nbsp;java.lang.Object mVpnStateLock</pre>
<div class="block">Lock object providing mutually exclusive access to <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#mVpnState"><code>mVpnState</code></a>.</div>
</li>
</ul>
<a name="mVpnClientBinder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mVpnClientBinder</h4>
<pre>private final&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.VpnClientBinder.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnClient.VpnClientBinder</a> mVpnClientBinder</pre>
<div class="block">Interface provided to clients allowing these to perform operations on this service.</div>
</li>
</ul>
<a name="manager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>manager</h4>
<pre>private&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/ForwarderManager.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">ForwarderManager</a> manager</pre>
<div class="block">The main class responsible for traffic routing. Started by this class.</div>
</li>
</ul>
<a name="connectivityReceiver">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>connectivityReceiver</h4>
<pre>private&nbsp;android.content.BroadcastReceiver connectivityReceiver</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VpnClient--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VpnClient</h4>
<pre>public&nbsp;VpnClient()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onBind-android.content.Intent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBind</h4>
<pre>public&nbsp;android.os.IBinder&nbsp;onBind(android.content.Intent&nbsp;intent)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onBind</code>&nbsp;in class&nbsp;<code>android.net.VpnService</code></dd>
</dl>
</li>
</ul>
<a name="onUnbind-android.content.Intent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onUnbind</h4>
<pre>public&nbsp;boolean&nbsp;onUnbind(android.content.Intent&nbsp;intent)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onUnbind</code>&nbsp;in class&nbsp;<code>android.app.Service</code></dd>
</dl>
</li>
</ul>
<a name="prepareVPNconnection-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareVPNconnection</h4>
<pre>static&nbsp;void&nbsp;prepareVPNconnection(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a>&nbsp;incFilter,
                                 <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a>&nbsp;outFilter,
                                 <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;incConsumer,
                                 <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;outConsumer)</pre>
</li>
</ul>
<a name="onStartCommand-android.content.Intent-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStartCommand</h4>
<pre>public&nbsp;int&nbsp;onStartCommand(android.content.Intent&nbsp;intent,
                          int&nbsp;flags,
                          int&nbsp;startId)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onStartCommand</code>&nbsp;in class&nbsp;<code>android.app.Service</code></dd>
</dl>
</li>
</ul>
<a name="onDestroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDestroy</h4>
<pre>public&nbsp;void&nbsp;onDestroy()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onDestroy</code>&nbsp;in class&nbsp;<code>android.app.Service</code></dd>
</dl>
</li>
</ul>
<a name="onRevoke--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRevoke</h4>
<pre>public&nbsp;void&nbsp;onRevoke()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onRevoke</code>&nbsp;in class&nbsp;<code>android.net.VpnService</code></dd>
</dl>
</li>
</ul>
<a name="publishVpnState-edu.uci.calit2.antmonitor.lib.vpn.VpnState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishVpnState</h4>
<pre>private&nbsp;void&nbsp;publishVpnState(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnState.html" title="enum in edu.uci.calit2.antmonitor.lib.vpn">VpnState</a>&nbsp;newVpnState)</pre>
<div class="block">Updates and publishes the state of the VPN connection managed by this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>VpnClient</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newVpnState</code> - The new state of the VPN connection.</dd>
</dl>
</li>
</ul>
<a name="teardown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>teardown</h4>
<pre>private&nbsp;void&nbsp;teardown()</pre>
<div class="block"><p>
     Performs a complete teardown of the VPN connection.
     This includes terminating the two threads used for reading and writing to and from the TUN interface and VPN tunnel,
     terminating the packet loggers, as well as closing the TUN interface and the socket used for the VPN tunnel.
     It is up to the caller to update and publish the new VPN state using <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html#publishVpnState-edu.uci.calit2.antmonitor.lib.vpn.VpnState-"><code>publishVpnState(VpnState)</code></a> after closing the connection.
 </p></div>
</li>
</ul>
<a name="buildTunInterface--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildTunInterface</h4>
<pre>public&nbsp;android.os.ParcelFileDescriptor&nbsp;buildTunInterface()</pre>
<div class="block">Builds a new TUN interface</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The established TUN interface or null if the application is not prepared.</dd>
</dl>
</li>
</ul>
<a name="onTunnelError--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTunnelError</h4>
<pre>void&nbsp;onTunnelError()</pre>
</li>
</ul>
<a name="connect-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>private&nbsp;void&nbsp;connect(long&nbsp;delayMillis,
                     boolean&nbsp;retryOnFailure)</pre>
<div class="block"><p>
     Attempts to connect the VPN.
     This closes any existing connection before attempting to establish a new connection.
 </p>
 <p>
     If a scheduled connect attempt is pending, this method cancels it.
     Moreover, if a connect attempt is currently in progress, this method lets the ongoing
     attempt run - i.e. this method does not schedule a new attempt.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delayMillis</code> - Delays the connection attempt (milliseconds).
                    Set to 0, or any value less than zero, to schedule the connect attempt to run immediately.
                    Note that even if a delay is specified, this method is asynchronous.
                    The connect attempt is scheduled to run on a background thread.</dd>
<dd><code>retryOnFailure</code> - Specifies what to do in case the connect attempt fails.
      <code>true</code>: repeatedly try to connect until successfully connected.
                       <code>false</code>: only perform a single attempt at connecting the VPN.</dd>
</dl>
</li>
</ul>
<a name="reconnectOnError-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reconnectOnError</h4>
<pre>private&nbsp;void&nbsp;reconnectOnError(boolean&nbsp;retryOnFailure)</pre>
<div class="block">Schedules a reconnect attempt if no reconnect attempt is already scheduled or running.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>retryOnFailure</code> - Specifies what to do in case the reconnect attempt fails.
      <code>true</code>: repeatedly try to connect until successfully connected.
      <code>false</code>: only perform a single attempt at connecting the VPN.</dd>
</dl>
</li>
</ul>
<a name="disconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>private&nbsp;void&nbsp;disconnect()</pre>
<div class="block">Disconnects the VPN connection and updates and publishes the new state, i.e. the disconnected
 state, of the VPN connection. The disconnect job is sent to the main thread message queue,
 so it may not have run when this method call returns (if invoked from a background thread).
 Moreover, this method clears any pending connect attempts before initiating the disconnect.</div>
</li>
</ul>
<a name="buildVpnStateNotification--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>buildVpnStateNotification</h4>
<pre>private&nbsp;android.app.Notification&nbsp;buildVpnStateNotification()</pre>
<div class="block">Builds a <code>Notification</code> that provides information about the current state
 of the VPN connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Notification</code> that provides information about the current state
 of the VPN connection.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/TUNReader.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.ConnectTask.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/uci/calit2/antmonitor/lib/vpn/VpnClient.html" target="_top">Frames</a></li>
<li><a href="VpnClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
